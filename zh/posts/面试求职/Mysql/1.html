<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.59" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://lcyp.github.io/blog/zh/blog/zh/posts/%E9%9D%A2%E8%AF%95%E6%B1%82%E8%81%8C/Mysql/1.html"><meta property="og:site_name" content="𝖑𝖎𝖆𝖓𝖌𝖈𝖍𝖊𝖓𝖞𝖆𝖓𝖌'𝖘 𝖇𝖑𝖔𝖌"><meta property="og:title" content="MySQL经典面试题"><meta property="og:description" content="MySQL经典面试题 内连接和外连接 内连接： 就是组合两个表中的记录，返回两个表中的交集部分，关键字就是inner join 例如 select 字段列表 from 表1 inner join 表2 on 条件语句。 这属于显式内连接，同时还有一个式隐式内连接，是通过where 判断语句来判断条件。 比如：select 字段列表 from 表1 ，表..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-11-24T09:03:31.000Z"><meta property="article:tag" content="mysql"><meta property="article:published_time" content="2022-01-01T00:00:00.000Z"><meta property="article:modified_time" content="2024-11-24T09:03:31.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"MySQL经典面试题","image":[""],"datePublished":"2022-01-01T00:00:00.000Z","dateModified":"2024-11-24T09:03:31.000Z","author":[{"@type":"Person","name":"梁晨阳","url":"https://lcyp.github.io/blog/zh/"}]}</script><link rel="icon" href="/blog/favicon.ico"><title>MySQL经典面试题 | 𝖑𝖎𝖆𝖓𝖌𝖈𝖍𝖊𝖓𝖞𝖆𝖓𝖌'𝖘 𝖇𝖑𝖔𝖌</title><meta name="description" content="MySQL经典面试题 内连接和外连接 内连接： 就是组合两个表中的记录，返回两个表中的交集部分，关键字就是inner join 例如 select 字段列表 from 表1 inner join 表2 on 条件语句。 这属于显式内连接，同时还有一个式隐式内连接，是通过where 判断语句来判断条件。 比如：select 字段列表 from 表1 ，表...">
    <link rel="stylesheet" href="/blog/assets/css/styles.6b826ec4.css">
    <link rel="preload" href="/blog/assets/js/runtime~app.e4241c03.js" as="script"><link rel="preload" href="/blog/assets/css/styles.6b826ec4.css" as="style"><link rel="preload" href="/blog/assets/js/4719.314abd3e.js" as="script"><link rel="preload" href="/blog/assets/js/app.e4908484.js" as="script">
    <link rel="prefetch" href="/blog/assets/js/2664.3b1c8d92.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_Spring知识_4.html.3f689cbf.js" as="script"><link rel="prefetch" href="/blog/assets/js/8300.eea3bf10.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_Redis_1.html.a683ef8e.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_Mysql_1.html.6294d170.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_Spring知识_2.html.8282f845.js" as="script"><link rel="prefetch" href="/blog/assets/js/741.281b2516.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_java基础知识_2.html.88a01436.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_Redis_Redis.html.efb843b6.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_demo_markdown.html.c430897b.js" as="script"><link rel="prefetch" href="/blog/assets/js/demo_markdown.html.dc7670d3.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_JVM_2.html.aeb60189.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_Spring知识_1.html.6d667bd7.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_JVM_5.html.272224f0.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_demo_page.html.f021872e.js" as="script"><link rel="prefetch" href="/blog/assets/js/demo_page.html.4fb0c620.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_Spring知识_3.html.e87ec44d.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_demo_layout.html.0e2cbd58.js" as="script"><link rel="prefetch" href="/blog/assets/js/demo_layout.html.d96002e7.js" as="script"><link rel="prefetch" href="/blog/assets/js/posts_tomato.html.a0289b74.js" as="script"><link rel="prefetch" href="/blog/assets/js/posts_banana_2.html.863fd44b.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_JVM_1.html.e49f043f.js" as="script"><link rel="prefetch" href="/blog/assets/js/demo_disable.html.e1cd246b.js" as="script"><link rel="prefetch" href="/blog/assets/js/posts_apple_2.html.b475fb87.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_java基础知识_1.html.d66ffc6a.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_JVM_3.html.befb15c9.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_JVM_4.html.5809b4a0.js" as="script"><link rel="prefetch" href="/blog/assets/js/posts_banana_1.html.2c80f609.js" as="script"><link rel="prefetch" href="/blog/assets/js/posts_banana_3.html.48c2ffd9.js" as="script"><link rel="prefetch" href="/blog/assets/js/posts_banana_4.html.f65b22c0.js" as="script"><link rel="prefetch" href="/blog/assets/js/posts_apple_4.html.71830cbc.js" as="script"><link rel="prefetch" href="/blog/assets/js/posts_apple_3.html.5f9d9095.js" as="script"><link rel="prefetch" href="/blog/assets/js/posts_dragonfruit.html.c9ddba58.js" as="script"><link rel="prefetch" href="/blog/assets/js/posts_apple_1.html.7534d7ba.js" as="script"><link rel="prefetch" href="/blog/assets/js/posts_cherry.html.919d875f.js" as="script"><link rel="prefetch" href="/blog/assets/js/posts_strawberry.html.1e03e6db.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_demo_disable.html.3a33a384.js" as="script"><link rel="prefetch" href="/blog/assets/js/intro.html.4aa56b43.js" as="script"><link rel="prefetch" href="/blog/assets/js/index.html.0e7b0414.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_index.html.7d1c1fb2.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_intro.html.a22f5969.js" as="script"><link rel="prefetch" href="/blog/assets/js/demo_index.html.70b05e76.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_demo_index.html.e1dddf80.js" as="script"><link rel="prefetch" href="/blog/assets/js/demo_encrypt.html.1cdb5840.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_demo_encrypt.html.d306b499.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_markdown_index.html.ba1f7216.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_category_java基础知识_index.html.ad2c0f9a.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_index.html.dcb8068e.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_程序计数器_index.html.4601c40c.js" as="script"><link rel="prefetch" href="/blog/assets/js/timeline_index.html.6a0c3f8b.js" as="script"><link rel="prefetch" href="/blog/assets/js/article_index.html.5dd6ea8b.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_java基础知识_index.html.5375b0d3.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_category_使用指南_index.html.e6096c20.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_category_java面试题_index.html.7e3ec64f.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_进程线程_index.html.985807e1.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_使用指南_index.html.33fc18f6.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_分布式锁_index.html.25dbdb6e.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_设计模式_index.html.fbeba6a1.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_代理模式_index.html.12ac1e87.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_页面配置_index.html.61d9c631.js" as="script"><link rel="prefetch" href="/blog/assets/js/star_index.html.0f88a203.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_index.html.fbc588bb.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_category_spring知识_index.html.94c6aa95.js" as="script"><link rel="prefetch" href="/blog/assets/js/posts_index.html.e2bbb0d9.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_弯曲的_index.html.f03c20f5.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_category_jvm组成_index.html.16b18f2c.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_dragon-fruit_index.html.ba60b300.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_Spring知识_index.html.1831f14d.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_jvm组成_index.html.33c123b8.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_strawberry_index.html.287c834b.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_category_指南_index.html.15405c2d.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_category_水果_index.html.f6df32ca.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_category_香蕉_index.html.f3aa237e.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_vegetable_index.html.c6ce423b.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_加密_index.html.1ac821f4.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_反射_index.html.3f7c405b.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_禁用_index.html.f69f0f4e.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_集合_index.html.e80b34f5.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_布局_index.html.7fa2be36.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_page-config_index.html.01023a2b.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_markdown_index.html.8f9e59cf.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_banana_index.html.0577852b.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_cherry_index.html.9f73089b.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_encryption_index.html.480cff6a.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_fruit_index.html.9c68e075.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_guide_index.html.e792db96.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_apple_index.html.2dc87b7a.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_category_mysql_index.html.f1e67761.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_category_redis_index.html.a8ca128a.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_index.html.9f2cbdbb.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_spring_index.html.4b656925.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_mysql_index.html.0f3986b5.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_redis_index.html.6416b13b.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_圆_index.html.73372a9a.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_堆_index.html.29f1118a.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_栈_index.html.d3a83038.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_红_index.html.5fef295b.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_长_index.html.b66c4b1b.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_黄_index.html.5594aa36.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_category_jvm_index.html.599de1b3.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_大_index.html.111a88c2.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_disable_index.html.236ccc13.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_Redis_index.html.7e82d593.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_Mysql_index.html.418d8c8e.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_bean_index.html.2e0a98d3.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_layout_index.html.62d2260c.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_yellow_index.html.d1eeb200.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_ioc_index.html.76652f14.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_curly_index.html.2a00ffbe.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_guide_index.html.810f93fa.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_round_index.html.a117c668.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_small_index.html.8658f3a4.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_面试求职_JVM_index.html.94511630.js" as="script"><link rel="prefetch" href="/blog/assets/js/404.html.0f238246.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_long_index.html.14c4a9fd.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_big_index.html.8c1c6aed.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_red_index.html.b0c7f701.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_timeline_index.html.41733eac.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_category_index.html.afca1c89.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_article_index.html.97d4f622.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_tag_index.html.d3aa3fc0.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_star_index.html.8fc681d1.js" as="script"><link rel="prefetch" href="/blog/assets/js/posts_banana_index.html.695fad97.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_Redis_index.html.f5095cb0.js" as="script"><link rel="prefetch" href="/blog/assets/js/posts_apple_index.html.05c566e9.js" as="script"><link rel="prefetch" href="/blog/assets/js/zh_posts_index.html.097bf759.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/blog/zh/" aria-label="带我回家"><img class="vp-nav-logo" src="https://sky-take-out-lcy.oss-cn-beijing.aliyuncs.com/unnamed.png" alt><!----><span class="vp-site-name hide-in-pad">𝖑𝖎𝖆𝖓𝖌𝖈𝖍𝖊𝖓𝖞𝖆𝖓𝖌&#39;𝖘 𝖇𝖑𝖔𝖌</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/zh/" aria-label="主页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/zh/demo/" aria-label="开始"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-heart" style=""></span><!--]-->开始<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="auto-link external-link" href="https://blog.csdn.net/qq_64688685?spm=1011.2124.3001.5343" aria-label="CSDN" rel="noopener noreferrer" target="_blank"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><!--]-->CSDN<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><div class="vp-nav-item"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="选择语言"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon i18n-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="i18n icon" name="i18n" style="width:1rem;height:1rem;vertical-align:middle;"><path d="M379.392 460.8 494.08 575.488l-42.496 102.4L307.2 532.48 138.24 701.44l-71.68-72.704L234.496 460.8l-45.056-45.056c-27.136-27.136-51.2-66.56-66.56-108.544h112.64c7.68 14.336 16.896 27.136 26.112 35.84l45.568 46.08 45.056-45.056C382.976 312.32 409.6 247.808 409.6 204.8H0V102.4h256V0h102.4v102.4h256v102.4H512c0 70.144-37.888 161.28-87.04 210.944L378.88 460.8zM576 870.4 512 1024H409.6l256-614.4H768l256 614.4H921.6l-64-153.6H576zM618.496 768h196.608L716.8 532.48 618.496 768z"></path></svg><!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blog/" aria-label="English"><!---->English<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/blog/zh/posts/%E9%9D%A2%E8%AF%95%E6%B1%82%E8%81%8C/Mysql/1.html" aria-label="简体中文"><!---->简体中文<!----></a></li></ul></button></div></div><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/lcyp/blog" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/blog/zh/" aria-label="主页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->主页<!----></a></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-header active"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span><span class="vp-sidebar-title">文章</span><!----></p><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/blog/icons/devicon--redis.png" alt aria-hidden no-view style=""><span class="vp-sidebar-title">Redis</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="icon" src="/blog/icons/mynaui--face-id.png" alt aria-hidden no-view style=""><span class="vp-sidebar-title">面试求职</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/blog/icons/devicon--java.png" alt aria-hidden no-view style=""><span class="vp-sidebar-title">java基础知识</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/blog/icons/lineicons--vmware.png" alt aria-hidden no-view style=""><span class="vp-sidebar-title">JVM</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="icon" src="/blog/icons/logos--mysql.png" alt aria-hidden no-view style=""><span class="vp-sidebar-title">MySQL</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/blog/zh/posts/%E9%9D%A2%E8%AF%95%E6%B1%82%E8%81%8C/Mysql/1.html" aria-label="MySQL经典面试题"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span><!--]-->MySQL经典面试题<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/blog/icons/devicon--redis.png" alt aria-hidden no-view style=""><span class="vp-sidebar-title">Redis</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/blog/icons/devicon--spring.png" alt aria-hidden no-view style=""><span class="vp-sidebar-title">Spring</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li></ul></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/zh/intro.html" aria-label="介绍页"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-circle-info" style=""></span><!--]-->介绍页<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>MySQL经典面试题</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://lcyp.github.io/blog/zh/" target="_blank" rel="noopener noreferrer">梁晨阳</a></span><span property="author" content="梁晨阳"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2022年1月1日</span><meta property="datePublished" content="2022-01-01T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 24 分钟</span><meta property="timeRequired" content="PT24M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color6 clickable" role="navigation">MySQL</span><!--]--><meta property="articleSection" content="MySQL"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color1 clickable" role="navigation">mysql</span><!--]--><meta property="keywords" content="mysql"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#内连接和外连接">内连接和外连接</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#一条sql的执行过程是怎样的">一条SQL的执行过程是怎样的？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#分表后非分片键的查询-排序怎么处理">分表后非分片键的查询，排序怎么处理？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#数据库cpu飙升-你会如何处理">数据库CPU飙升，你会如何处理？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#高并发场景下-如何安全修改同一行数据">高并发场景下，如何安全修改同一行数据？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#如何优化深分页limit-1000000">如何优化深分页limit 1000000</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#自增主键会遇到什么问题">自增主键会遇到什么问题？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#union与union-all的区别">union与union all的区别？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#char和varchar的区别">char和varchar的区别？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#mysql记录货币用什么字段类型">MySQL记录货币用什么字段类型？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#count-1-count-与count-列名-的区别">count(1),count(*)与count(列名）的区别？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#为什么需要数据库连接池呢">为什么需要数据库连接池呢？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#什么是最左前缀原则">什么是最左前缀原则？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#mysql多表查询时有哪些连接方式">MySQL多表查询时有哪些连接方式？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#mysql中in和exists的区别">MySQL中in和exists的区别？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#myisam索引与innodb索引的区别">MyISAM索引与InnoDB索引的区别？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#mysql索引分类">MySQL索引分类？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#mysql为什么默认引擎是innodb">MySQL为什么默认引擎是InnoDB?</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#数据库的三大范式是什么">数据库的三大范式是什么？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#如何解决mysql死锁问题">如何解决MySQL死锁问题？</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#了解mysql锁升级吗">了解Mysql锁升级吗？</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h1 id="mysql经典面试题" tabindex="-1"><a class="header-anchor" href="#mysql经典面试题"><span>MySQL经典面试题</span></a></h1><h2 id="内连接和外连接" tabindex="-1"><a class="header-anchor" href="#内连接和外连接"><span>内连接和外连接</span></a></h2><p><strong>内连接：</strong><br> 就是组合两个表中的记录，返回两个表中的交集部分，关键字就是inner join<br> 例如 select 字段列表 from 表1 inner join 表2 on 条件语句。<br> 这属于显式内连接，同时还有一个式隐式内连接，是通过where 判断语句来判断条件。<br> 比如：select 字段列表 from 表1 ，表2 where 条件语句。</p><p><strong>外连接：</strong><br> 外连接也分为两部分，是左外连接和右外连接<br> 左外连接关键字是 left outer join 也可以缩写为 left join<br> 查询的是左表的所有数据和左表与右表的交集部分，右表的数据符合条件的会显示出来，不符合的会显示为空。 相同，<br> 右外连接的关键字是right outer join 也可以缩写为 right join<br> 查询的是右表的所有数据和左右表交集部分，左表的数据符合条件的会显示出来，不符合会显示为空。<br> 查询语句例如 select 字段列表 from 表1 right join 表2 on 条件语句。</p><p><strong>全连接</strong><br> mysql可以使用union实现全连接。<br> 比如 左外连接语句 union 右外连接语句。<br> 查询出来的是全部数据，就是左外连接查出来的数据和右外连接查出来的数据。</p><p><strong>索引：</strong><br> 索引就是帮助数据库快速获取数据的一种数据结构，优点是快速查询数据，减少cpU消耗，缺点是占用内存，增删改效率降低。<br> 使用创建索引就是用create index 索引名 on 表名（字段）；<br> 删除就是使用drop index 索引名 on 表名。<br> 查看索引就使用 show index from 表名。</p><h2 id="一条sql的执行过程是怎样的" tabindex="-1"><a class="header-anchor" href="#一条sql的执行过程是怎样的"><span>一条SQL的执行过程是怎样的？</span></a></h2><p>一条SQL的执行过程可以大致分为以下几个步骤：<br> 1．连接器：<br> 。客户端与数据库建立连接，并发送SQL语句给数据库服务。<br> 。连接器验证客户端的身份和权限，确保用户有足够的权限执行该SQL语句。<br> 2．查询缓存：<br> 。连接器首先检查查询缓存，尝试找到与当前SQL语句完全相同的查询结果。<br> 。如果在缓存中找到匹配的结果，查询缓存直接返回结果，避免了后续的执行过程。<br> 3．分析器：<br> 。若查询不命中缓存，连接器将SQL语句传递给分析器进行处理。<br> 。分析器对SQL语句进行语法分析，确保语句的结构和语法正确。<br> 。分析器还会进行语义分析，检查表、列、函数等对象的存在性和合法性，并进行权限验证。 4．优化器：<br> 。分析器将经过验证的SQL语句传递给优化器。<br> 。优化器根据统计信息和数据库的规则，生成多个可能的执行计划，这些计划包括不同的索引选择、连接顺序、筛选条件等。<br> 。目的是选出最优的执行路径以提高查询性能。<br> 5．执行器：<br> 。优化器选择一个最优的执行计划，并将其传递给执行器。<br> 。执行器根据执行计划执行具体的查询操作。<br> 。它负责调用存储引擎的接口，处理数据的存储、检索和修改。<br> 。执行器会根据执行计划从磁盘或内存中获取相关数据，并进行联接、过滤、排序等操作，生成最终的查询结果。<br> 6．存储引擎：<br> 。执行器将查询请求发送给存储引擎组件。<br> 。存储引擎组件负责具体的数据存储、检索和修改操作。<br> 。存储引擎根据执行器的请求，从磁盘或内存中读取或写入相关数据。<br> 7．返回结果：<br> 。存储引擎将查询结果返回给执行器。<br> 。执行器将结果返回给连接器。<br> 。最后，连接器将结果发送回客户端，完成整个执行过程。<br> 需要注意的是，查询缓存在一些场景下可能不太适用，因为它有一定的缺陷和开销。MySQL8.0版本开始，默认情况下查询缓存已被废弃。因此，在实际应用中，需要权衡是否使用查询缓存。</p><h2 id="分表后非分片键的查询-排序怎么处理" tabindex="-1"><a class="header-anchor" href="#分表后非分片键的查询-排序怎么处理"><span>分表后非分片键的查询，排序怎么处理？</span></a></h2><ol><li><strong>联合查询</strong>：如果需要执行涉及多个分表的查询，可以使用联合查询（UNION）或者连接查询（JOIN）来合并结果。将查询条件应用到对应的分表，然后将结果联合起来返回给 用户。</li><li><strong>扫描所有分表</strong>：如果查询涉及到的数据无法通过分片键进行过滤，那么可能需要扫描所有的分表来获取满足条件的数据。这样的查询会比较慢，因为需要访问所有的分表并合并结果，但在某些场景下是必要的。</li><li><strong>手动分页和排序</strong>：如果需要对分表后的数据进行排序和分页，可以在每个分表上执行独立的排序和分页操作，然后将结果合并或者按需返回给用户。这需要在应用程序中进行额外的逻辑处理。</li><li><strong>使用全局索引</strong>：如果有一些特定的查询需要在非分片键上执行，并且这些查询非常频繁，可以考虑创建全局索引。全局索引不关心分片键，而是在整个集群上创建索引，可以加速这类查询的执行速度。</li></ol><h2 id="数据库cpu飙升-你会如何处理" tabindex="-1"><a class="header-anchor" href="#数据库cpu飙升-你会如何处理"><span>数据库CPU飙升，你会如何处理？</span></a></h2><p>当MySQL数据库的CPU使用率飙升时，可能是由于以下几个原因导致的：</p><ol><li><strong>查询性能问题</strong>：某些查询可能没有被正确地优化，导致查询执行时间过长，从而占用大量的CPU资源。可以通过查看慢查询日志和执行计划来分析问题查询，并进行索引优化、重写查询语句或调整数据库配置等方式来改善查询性能。</li><li><strong>数据库连接问题</strong>：如果存在大量的数据库连接并发访问，可能会造成CPU负载过高。可以检查应用程序连接池的配置情况、数据库连接数限制以及是否有闲置的连接未关闭等问题，并进行相应调整。</li><li><strong>锁和死锁问题</strong>：并发事务之间的锁竞争或死锁可能导致CPU飙升。可以通过查看数据库的锁状态、死锁日志以及事务并发控制的设置来解决锁相关的问题。</li><li><strong>配置问题</strong>：不合理的数据库配置可能导致CPU资源浪费和效率低下。可以检查MySQL的配置参数，如缓冲区大小、并发连接数、线程池大小等是否合理设置，并进行相应调整。</li><li><strong>资源竞争</strong>：如果服务器的物理资源（如内存、磁盘I／O）不足或受限，可能会导致CPU过度使用。可以通过监控系统资源使用情况，调整或增加资源配置，以满足数据库的需 求。</li></ol><blockquote><p>此外，定期进行数据库性能优化和监控也是重要的措施，可以通过数据库性能分析工具、慢查询日志、系统监控工具等来识别和解决性能问题。</p></blockquote><h2 id="高并发场景下-如何安全修改同一行数据" tabindex="-1"><a class="header-anchor" href="#高并发场景下-如何安全修改同一行数据"><span>高并发场景下，如何安全修改同一行数据？</span></a></h2><p>在高并发情况下，多事务安全修改同一行数据可以采用以下方法：</p><ol><li>乐观锁：在数据表中添加一个版本号（或者时间戳）字段，每次更新数据时都会检查该字段的值。当多个并发的请求同时修改同一行数据时，只有一个请求能够成功执行更新 操作，其他请求需要重新检查数据是否被修改过。如果数据没有被修改，那么它们可以重新尝试更新；如果数据已经被修改，则这些请求需要触发重试等相应的冲突处理逻 辑。</li><li>悲观锁：在读取数据之前，使用数据库提供的锁机制，如SELECT．．．FOR UPDATE语句，将要修改的行数据进行加锁。这样，其他并发的请求在读取相同行数据时会被阻塞， 直到锁释放。这种方法能够确保同一时间只有一个请求在修改数据，但是会影响系统的并发性能。</li><li>分布式锁：通过使用分布式锁服务，如Redis的SETNX命令或ZooKeeper的临时节点，来实现对行级数据的互斥访问。在修改数据前先尝试获取锁，获取成功后执行数据修改 操作，修改完成后释放锁。其他请求在获取锁失败时可以等待或执行相应的冲突处理逻辑。</li><li>事务：将对同一行数据的修改操作封装在数据库事务中。在事务中，数据库会自动处理并发修改的冲突，通过锁定相应的数据行来确保数据的一致性和完整性。并发的请求会 被串行化执行，保证每个请求都能正确读取并修改数据。 需要注意的是，在进行高并发的数据操作时，要考虑到锁的粒度、性能开销以及可能出现的死锁问题，做好并发控制和冲突处理的容错设计。</li></ol><h2 id="如何优化深分页limit-1000000" tabindex="-1"><a class="header-anchor" href="#如何优化深分页limit-1000000"><span>如何优化深分页limit 1000000</span></a></h2><p>深分页问题是MySQL中常见的性能问题，当你尝试获取大量数据的后续页面时，性能会显著下降。这是因为MySQL需要先扫描到指定的偏移量，然后再返回数据。 例如，以下查询可能会非常慢：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ORDER BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIMIT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1000000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这是因为MySQL需要先扫描1000000行数据，然后再返回后面的10行数据。</p><p>解决深分页问题的常见方法有以下几种：</p><ol><li>使用覆盖索引：覆盖索引可以让MySQL在索引中获取所有需要的数据，而无需回表查询。这可以大大提高查询速度。</li></ol><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ORDER BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIMIT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1000000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li>记住上次的位置：如果你的应用程序可以记住上次查询的最后一个ID，那么你可以使用WHERE 子句来避免扫描大量数据。</li></ol><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> last_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ORDER BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIMIT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="3"><li><p>使用分页插件：有些数据库框架提供了分页插件，可以自动优化分页查询。</p></li><li><p>避免深分页：在设计应用程序时，尽量避免深分页。例如，你可以提供搜索功能，让用户快速找到他们需要的数据，而不是浏览大量的页面。</p></li></ol><blockquote><p>以上只是一些常见的解决方法，具体的解决方案需要根据实际情况来确定。</p></blockquote><h2 id="自增主键会遇到什么问题" tabindex="-1"><a class="header-anchor" href="#自增主键会遇到什么问题"><span>自增主键会遇到什么问题？</span></a></h2><ol><li><strong>插入性能问题</strong>：对于非常高并发的插入操作，自增主键可能会成为性能瓶颈。因为每次插入新记录时，都需要获取一个新的自增ID，这个操作是串行的，无法并发执行。</li><li><strong>主键耗尽</strong>：如果表的记录非常多，可能会出现自增主键耗尽的情况。尤其是对于定义为整型的自增主键，如果插入的记录数超过了整形的最大值，就无法再插入新的记录。</li><li><strong>分布式系统问题</strong>：在分布式系统中，如果多个数据库节点都需要生成自增主键，就需要保证生成的主键在全局是唯一的。这通常需要引入额外的机制或工具，比如分布式ID生成器。</li></ol><h2 id="union与union-all的区别" tabindex="-1"><a class="header-anchor" href="#union与union-all的区别"><span>union与union all的区别？</span></a></h2><p>它们都是在sql中用于合并查询结果集的操作符，他们之间存在以下区别：</p><ol><li>union用于合并两个或多个查询结果集，并去除重复的行。在执行union操作时，数据库会进行额外的去重操作，这可能会带来一定的性能开销。</li><li>union all同样用于合并查询结果集，但不去除重复的行。相比于union，union all不进行去重操作，因此执行效率更高。</li></ol><h2 id="char和varchar的区别" tabindex="-1"><a class="header-anchor" href="#char和varchar的区别"><span>char和varchar的区别？</span></a></h2><ol><li>存储方式：char是固定长度的字符类型，而varchar是可变长度的字符类型。</li><li>占用空间：char以固定的长度存储数据，不论实际存储的字符数目，而varchar则根据实际需要的空间动态分配存储。</li><li>尾随空格：char在存储时会用空格填充到指定长度，并在检索时需要删除尾随空格，而varchar没有这个问题。</li><li>长度限制：char的长度范围为1到255个字符，而varchar的长度范围也是255个字符但可以根据需求设定更长的长度。</li><li>访问效率：由于char是固定长度的，它在某些情况下可能会比varchar稍微快一些。</li></ol><h2 id="mysql记录货币用什么字段类型" tabindex="-1"><a class="header-anchor" href="#mysql记录货币用什么字段类型"><span>MySQL记录货币用什么字段类型？</span></a></h2><p>一般推荐使用decimal字段类型。<br> decimal字段类型用于存储精确的定点数值，可以指定总共的位数和小数点后的位数。这使得它非常适合用于存储货币金额，因为货币金额通常需要精确到小数点后几位。</p><p>使用decimal的好处：</p><ol><li>精确性：可以确保货币金额的精确性，避免由于浮点数运算带来的精度问题。</li><li>可控性：通过指定总位数和小数位数，可以精确控制存储的金额范围和精度。</li><li>计算准确性：decimal字段类型支持数值计算，如加法，减法和乘法等，保证计算结果的准确性。</li></ol><h2 id="count-1-count-与count-列名-的区别" tabindex="-1"><a class="header-anchor" href="#count-1-count-与count-列名-的区别"><span>count(1),count(*)与count(列名）的区别？</span></a></h2><p>都是用于计算行数的聚合函数，但他们在实际应用时有一些区别。<br><strong>count(1)</strong><br> 这种写法中，1表示一个常量值，它会被用于计算查询结果集的行数。由于1是一个常量，在执行count(1）时，数据库不会去访问或读取任何实际的数据，仅仅是对满足条件的行数进行计数，因此执行速度相对较快。<br><strong>count(*)</strong><br> 这种写法中，<em>表示选取所有列，他会对满足条件的行进行计数。与count(1)不同的是，执行count(</em>)时，数据库需要读取每一行的数据，然后进行计数操作，因此它可能会比count(1)稍微慢一些。不过，在大多数数据库中，优化器会对count（<em>）进行特殊处理，可以通过索引等方式进行优化，使得性能相对较好。<br><strong>count(列名)</strong><br> 这种写法中，列名表示具体的表列，它会对非空（null）值的行进行计数。相比于count（1）和count（</em>）,count（列名）会跳过值为null的行，只统计非空值的行数。这在某些特定的情况下可能更符合实际需求，例如统计某个列的非空值的个数。</p><h2 id="为什么需要数据库连接池呢" tabindex="-1"><a class="header-anchor" href="#为什么需要数据库连接池呢"><span>为什么需要数据库连接池呢？</span></a></h2><p>数据库连接池是一种管理和维护数据库连接的技术。它在应用程序和数据库之间建立了一个连接的缓冲池，用于存储和复用已经建立好的数据库连接。<br><strong>好处：</strong></p><ol><li>提高性能：数据库连接的建立和断开是比较耗时的操作，频繁的创建和销毁会增加系统的负担。通过使用连接池可以避免频繁的创建和关闭连接，减少了连接的开销，提高了系统的性能。</li><li>资源管理：数据库连接是有限的资源，如果每个请求都创建一个新的连接，可能导致连接过多而耗尽资源。连接池通过对连接的管理和复用，能够更有效地管理数据库连接，避免资源的浪费。</li><li>并发处理：在高并发的场景下，如果每个请求都去单独的连接数据库，可能会导致数据库连接数量过多，从而限制了系统的扩展性。连接池允许多个请求共享连接，减少了数据库连接的数量，提高了并发处理能力。</li><li>连接可靠性：数据库连接可能会因为网络问题或服务器故障而中断，当发生这种情况时，连接池能够检测到连接的失效，并重新创建一个可用的连接，确保应用程序的可靠运行。</li></ol><h2 id="什么是最左前缀原则" tabindex="-1"><a class="header-anchor" href="#什么是最左前缀原则"><span>什么是最左前缀原则？</span></a></h2><p>最左前缀原则（leftmost Prefix Rule)是索引在数据库查询中的一种使用规则。<br> 它指的是在使用复合索引时，索引的最左边的连续几个列会被用于过滤条件的匹配。 具体来说，比如在表中创建了一个复合索引，包含多个列 A，B，C，那么最左前缀原则则要求查询中的过滤条件 必须从索引的最左边开始，并且不能跳过中间的列。只有当查询中的过滤条件与索引的最左前缀完全匹配时，索引才会被充分利用。</p><p>例如：考虑以下复合索引（A，B，C）和查询语句：</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> my_table </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> A </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;value1&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> C </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;value2&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在这种情况下，最左前缀原则要求查询条件中必须包含列A，而不能直接使用列C进行过滤。因为只有满足最左前缀条件，索引（A，B，C,）才能被有效的利用。</p><p>遵循最左前缀原则的好处包括：</p><ol><li>提高查询性能：通过使用索引的最左前缀，可以最大限度的减少索引扫描的数据量，提高查询的效率和响应时间。</li><li>减少索引占用空间：在某些情况下，使用最左前缀原则可以减少创建多个索引的需求，节省磁盘空间和索引维护的开销。</li></ol><h2 id="mysql多表查询时有哪些连接方式" tabindex="-1"><a class="header-anchor" href="#mysql多表查询时有哪些连接方式"><span>MySQL多表查询时有哪些连接方式？</span></a></h2><ol><li>内连接 inner join</li><li>左外连接 left outer join</li><li>右外连接 right outer join</li><li>全外连接 union</li><li>自连接</li><li>交叉连接</li></ol><h2 id="mysql中in和exists的区别" tabindex="-1"><a class="header-anchor" href="#mysql中in和exists的区别"><span>MySQL中in和exists的区别？</span></a></h2><p><strong>使用的区别</strong> ：子查询表小的用in，子查询表大的用exists。根据小表驱动大表的思想，用in内表是驱动表，用exists外表是驱动表。<br><strong>索引上的区别</strong> ：exists只有内表可以用上索引，外层循环必须要走一个遍历过程；而in内表和外表都可以用上索引，因为in本质上属于多个条件查询的并集(or)。</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t1 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> exists</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t2 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> t1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> t2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t1 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">in</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t2);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>● exists子句会对外表（即t1）用loop逐条记录查询，每次查询都会查看exists中的select语句，如果select子句返回记录行（无论返回记录行是多少，只要能返回），exists就会返回true，则外表中的当前记录就会被检索出来；如果select子句没有返回记录行，exists就会返回false，则外表中的当前记录就会被丢弃。——exist子句循环每次取出外表中的一条记录用来执行exists中的语句查内表，是先查外表，再查内表（相关子查询）。</p><p>● in查询相当于多个or条件的叠加。in子句需要先将子查询的记录全部查出来。注意in子句中的子查询返回的结果集必须只有一个字段。假设子查询返回的结果集有m条记录，在进行m次查询。——in子句是先执行in中的子句查出来内表的结果，然后外表针对内表查出来的结果一个个遍历匹配。即先查内表，再查外表（不相关子查询）。 基于以上的认识：</p><p>exists只有内表可以用上索引，外层循环必须要走一个遍历过程；而in内表和外表都可以用上索引，因为in本质上属于多个条件查询的并集(or)。</p><p><strong>如何选用exists和in？</strong><br> 当两个表的大小相当时，用exists和in的效率差别不大。<br> 如果两个表一个大一个小，则子查询表(即内表)大的用exists，子查询表(即内表)小的用in。 其实就是”小表驱动大表“的思想：用exist时外表是驱动表，用in时内表是驱动表。 MySQL的外连接就利用了”小表驱动大表“的思想做自动优化，因此有时候会发现LEFT JOIN左侧的不是驱动表而是被驱动表，其实就是MySQL优化器的功能。同理，内连接也有类似的情况。</p><h2 id="myisam索引与innodb索引的区别" tabindex="-1"><a class="header-anchor" href="#myisam索引与innodb索引的区别"><span>MyISAM索引与InnoDB索引的区别？</span></a></h2><p>在MySQL数据库中，InnoDB和MyISAM是两种常用的存储引擎，它们各有特点和适用场景。了解它们之间的区别对于数据库设计和性能优化至关重要。</p><ol><li>存储方式：MyISAM使用非聚簇索引，索引文件和数据文件是分开的；而InnoDB使用也是用了聚簇索引，将索引和数据一起存储在同一个文件中。</li><li>锁机制：MyISAM采用表级锁定，意味着当对表进行写操作时，整个表都会被锁定，因此可能导致并发写操作的性能较差。而InnoDB采用行级锁定，只锁定需要修改的行，可以提供更好的并发性能和多用户写入的支持。</li><li>事务支持：MyISAM不支持事务处理，而InnoDB支持事务和ACID特性（原子性、一致性、隔离性和持久性），可以进行事务管理、回滚和恢复操作。</li><li>外键方面：MyISAM不支持外键约束，而InnoDB支持外键约束，可以设置关联关系来保证数据的完整性。</li><li>性能特点：MyISAM在读取频繁、插入和更新较少的场景下性能较好，特别适合于读密集型应用；而InnoDB在并发写入和更新较多的情况下性能较好，适合于写入密集型应用或需要事务支持的场景。</li></ol><h2 id="mysql索引分类" tabindex="-1"><a class="header-anchor" href="#mysql索引分类"><span>MySQL索引分类？</span></a></h2><p>在MySQL中，索引按照索引列的类型可以分为以下几种：</p><ol><li>主键索引：用于唯一标识每一条记录，主键索引的值不允许重复且不能为空，并且一个表只能有一个主键索引。<br> ○ 主键索引是特别的唯一索引。</li></ol><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> table_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  column1 datatype,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  column2 datatype,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ...</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (column_name) # 主键索引</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>唯一索引：用于保证索引列的值唯一，允许为空值，但是一个表可以有多个唯一索引。</li></ol><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> table_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  column1 datatype,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  column2 datatype,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  ...</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  UNIQUE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (column_name)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>普通索引：没有唯一性限制，允许重复值和空值，是最基本的索引类型。</li></ol><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> table_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  column1 datatype,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  INDEX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> index_name (column1)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>组合索引：在多个字段上创建的索引，可以包含多个列。组合索引可以提高多列查询的性能，但查询条件必须符合最左前缀原则，即查询从左到右使用组合索引中的列。</li></ol><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> table_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  column1 datatype,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  column2 datatype,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  INDEX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> index_name (column1, column2)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>以上就是MySQL常见的四种索引，这些不同类型的索引在数据库中起到了加速数据检索操作的作用，可以根据具体的需求和使用场景选择适当的索引类型。同时，需要注意索引的创建对写操作（如插入、更新、删除）可能会产生额外的开销，因此需要权衡索引的使用与数据操作的平衡。</p></blockquote><h2 id="mysql为什么默认引擎是innodb" tabindex="-1"><a class="header-anchor" href="#mysql为什么默认引擎是innodb"><span>MySQL为什么默认引擎是InnoDB?</span></a></h2><p>因为InnoDB在性能，事务支持，和容错能力等方面具有较好的特性，适合大多数应用场景。（就是InnoDB的优点）</p><ol><li>支持事务：保证数据库操作的原子性，一致性和完整性</li><li>并发控制：支持行级锁定，在高并发的环境下可以最大程度的减少锁冲突，提高并发性能，而另一个存储引擎MyISAM只支持表级锁定，并发性能较低。</li><li>外键约束：支持外键约束，可以保证数据的完整性。</li><li>崩溃恢复：InnoDB具有自动崩溃恢复的能力。即使在发生意外故障或系统崩溃时，InnoDB引擎也能够自动进行崩溃恢复，保障数据的一致性。</li><li>支持热备份：支持在线热备份，可以在不停止数据库服务的情况下进行备份操作。</li></ol><h2 id="数据库的三大范式是什么" tabindex="-1"><a class="header-anchor" href="#数据库的三大范式是什么"><span>数据库的三大范式是什么？</span></a></h2><p>第一范式（1nf），保证数据的一致性，原子性。要求数据库表中的每个列都是不可再分的原子值，即每个列都不能包含多个值或值的列表。<br> 第二范式（2nf）, 在保证第一范式的情况下，要求每个非主键列完全依赖主键列。<br> 第三范式（3nf）, 在第二范式的基础上要求，每个非主键列不能相互依赖。</p><h2 id="如何解决mysql死锁问题" tabindex="-1"><a class="header-anchor" href="#如何解决mysql死锁问题"><span>如何解决MySQL死锁问题？</span></a></h2><p>MySQL在并发环境下可能会出现死锁问题。<br> 死锁是指两个或多个事务互相等待对方释放资源，导致无法继续执行的情况。</p><p>解决死锁问题的方法通常有以下几种：</p><ol><li>调整事务隔离级别：通过将事务隔离级别降低为读未提交（或读已提交，可以减少死锁的发生概率。但是要注意隔离级别的降低可能引发脏读，不可重复读，幻读等数据一致性问题，在选择时要权衡利弊）</li><li>优化查询和事务逻辑：分析造成死锁的原因，优化查询和事务逻辑，尽量缩短事务持有锁的时间，减少死锁的发生可能性。比如按照相同的顺序获取锁，避免跨事务的循环依赖。等。</li><li>使用行级锁：行级锁可以更好的限制锁的范围，从而减少死锁的可能性。将锁的粒度调整为行级别，可以减少事务之间的冲突。</li><li>设置合理的超时时间和重试机制：当发生死锁时，可以设置适当的超时时间，在一定时间内尝试解锁操作。如果超时设定的时间仍未成功，则进行死锁处理，如终止较早请求的事务或进行回滚等。</li></ol><h2 id="了解mysql锁升级吗" tabindex="-1"><a class="header-anchor" href="#了解mysql锁升级吗"><span>了解Mysql锁升级吗？</span></a></h2><p>MySQL锁升级是指在并发事务执行过程中，当某个事务无法满足当前所需的锁级别时，系统会自动将该事务的锁升级为更高级别的锁。<br> 通常情况下，MySQL会根据事务的需求和操作的对象自动选择合适的锁级别。然而，在某些情况下，事务无法获取所需的锁级别，就会促发锁升级。<br> 例如：</p><ol><li>当某个事务需要获取的是行级锁，但由于并发冲突或其它原因无法满足事务的要求时，系统会将该事务的锁级别升级为表级锁，从而保证数据的一致性和并发性能。</li><li>当某个事务操作的对象不符合行锁加锁的规则，比如没有走索引或非唯一索引记录数达到一定数量，系统也会将该事务的锁级别升级为表级锁，以确保数据的完整性和一致性，所以在实际应用中，合理的索引设计，适当的事务隔离级别设置可以帮助减少锁升级的放生，从而提高并发性能和系统的吞吐量。</li></ol></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/lcyp/blog/edit/main/src/zh/posts/面试求职/Mysql/1.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2024/11/24 09:03:31</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 2089117474@qq.com">lcy</span><!--]--><!--]--></div></div></footer><!----><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">   </div><div class="vp-copyright">Copyright © 2024 梁晨阳 </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script src="/blog/assets/js/runtime~app.e4241c03.js" defer></script><script src="/blog/assets/js/4719.314abd3e.js" defer></script><script src="/blog/assets/js/app.e4908484.js" defer></script>
  </body>
</html>
